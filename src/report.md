## Part 1. Установка ОС
- скачиваем и устанавливаем Ubuntu 20.04 Server LTS без графического интерфейса.
- версия Ubuntu\
![](images/1_1.png)

## Part 2. Создание пользователя
- создание пользователя командой `sudo adduser user name` и добавление пользователя в adm командой `sudo usermod -a - G adm annabelw`\
![](images/2_1.png)
- вывод команды `cat /etc/passwd`\
![](images/2_2.png)

## Part 3. Настройка сети ОС
- ввела команду `sudo nano /etc/hostname` для редактирования файла  
- отредактировала файл `/etc/hosts` командой sudo nano `/etc/hosts`
, перезагрузила систему для применения изменений\
![](images/3_2.png)
- Перед сменой часового пояса нужно узнать длинное имя часового пояса, которое нужно использовать командой `timedatectl list-timezones`
- Установка временной зоны(Мск) командой `sudo timedatectl set-timezone your_time_zone`\
![](images/3_3.png)
- команда для вывода названия сетевых интерфейсов `ip link show`\
![](images/3_4.png) 
- lo (loopback device) – виртуальный интерфейс, присутствующий по умолчанию в любом Linux. Он используется для отладки сетевых программ и запуска серверных приложений на локальной машине. С этим интерфейсом всегда связан адрес 127.0.0.1. У него есть dns-имя – localhost.
- ip-адрес устройства\
![](images/3_5.png)
- DHCP (англ. Dynamic Host Configuration Protocol — протокол динамической настройки узла) —
  прикладной протокол, позволяющий сетевым устройствам автоматически получать IP-адрес и другие параметры,
  необходимые для работы в сети TCP/IP. Данный протокол работает по модели «клиент-сервер».
  Для автоматической конфигурации компьютер-клиент на этапе конфигурации сетевого устройства обращается
  к так называемому серверу DHCP и получает от него нужные параметры.

- Что бы отобразить внешний ip-адрес шлюза использутся команда `wget -O - -q icanhazip.com`\
![](images/3_6.png)
- Что бы отобразить внутрений ip-адрес шлюза можно использовать команду `ip route | grep default` \
![ip-адрес по умолчанию (gw)](images/3_7.png)
- Что бы задать (заданные вручную, а не полученные от DHCP сервера) настройки ip, gw, dns (использовать публичный DNS серверы, например 1.1.1.1 или 8.8.8.8) открываем файл по команде `sudo nano /etc/netplan/*.yaml` и изменяем настройки:\
![](images/3_8.png)
- Убедилась, что статичные сетевые настройки (ip, gw, dns) соответствуют заданным в предыдущем пункте.\
![](images/3_9.png)
- Пропингуем удаленные хосты:\
![](images/3_10.png)

## Part 4. Обновление ОС
- Обновить системные пакеты до последней можно применив команды:
`sudo apt-get update`
`sudo apt-get upgrade`
- сообщение, что обновления отсутствуют\
 ![](images/4_1.png)

## Part 5. Использование команды sudo
- Команда sudo ( substitute user and do, подменить пользователя и выполнить ) позволяет строго определенным пользователям выполнять указанные программы с административными привилегиями без ввода пароля суперпользователя root.
- разрешила пользователю выполнять команду sudo\ командой `sudo usermod -aG sudo <user name>`
\
![](images/5_1.png)
- команда для смены hostname через sudo: `sudo hostnamectl set-hostname annabelw`
\
![](images/5_2.png)
- измененный hostname \
![](images/5_3.png)

## Part 6. Установка и настройка службы времени
- Проверяем время командой `timedatectl`:\
![](images/6_1.png)
- вывод команды NTPSynchronized=yes: 
timedatectl show \
 ![](images/6_2.png)

## Part 7. Установка и использование текстовых редакторов
-  Для установки текстового редактора используется команда `sudo apt install <name of the text editor>` 
- VIM\
![файл test_VIM.txt](images/7_2.png)\
выход с сохранением -`Esc`, `:wq`, после чего нажимаем `Enter`.
- NANO\
![файл test_NANO.txt](images/7_3.png)\
выход с сохранением - `cntrl+x`, `Y`, после чего нажимаем `Enter;
- JOE\
![файл test_JOE.txt](images/7_4.png)\
 выход с сохранением - `cntrl+x+k`;
- VIM \
![файл test_VIM.txt](images/7_5.png)\
выход без сохранения- `esc`, `:q!`;
- NANO \
![файл test_NANO.txt](images/7_6.png)\
выход без сохранения - `cntrl+x`, `N`;
- JOE \
![файл test_JOE.txt](images/7_7.png)\
 выход без сохранения - `cntrl+q+k`, `n`;
- VIM \
![ test_VIM.txt](images/7_8.png)\
 поиск слова - команда:/слово
- NANO\
![поиск слова test_NANO.txt](images/7_9.png)\
 поиск слова:`Ctrl + w`
- JOE \
![поиск слова test_JOE.txt](images/7_10.png)\
 поиск слова:`Ctrl + k + f`
- VIM \
![ test_VIM.txt](images/7_11.png)\
 замена слова: `:s/.../.../`
- NANO\
![замена слова test_NANO.txt](images/7_12.png)\
 для замены элемента используют сочетание клавишь `Ctrl + W` и `Ctrl + R`, после чего вводится то, что заменяется, после нажатие на `Enter` водится вводится новая строка, подвержаетя `Enter` и соглашается клавишей `Y`
- JOE\
![замена слова test_JOE.txt](images/7_13.png)\
замена слова:`Ctrl + k + f`, `R`

## Part 8. Установка и базовая настройка сервиса SSHD
- Установила SSH с помощью команды: `sudo apt-get install ssh`
- Установила OpenSSH: `sudo apt install openssh-server`
- Добавила пакет SSH-сервера в автозагрузку: `sudo systemctl enable sshd`
- Меняем порт в конфигурационном файле SSH сервера:`sudo nano /etc/ssh/sshd_config`
- Port 22->Port 2022\
![](images/8_6.png)
- Используя команду ps, показать наличие процесса sshd. Для этого к команде нужно подобрать ключи\
![команда ps](images/8_7.png) Команда ps выводит список текущих процессов на сервере. Опция C фильтрует процессы по указанной строке.
- Вывод команды netstat -tan \
![netstat -tan](images/8_8.png)
- Значение ключей -tan:\
    -t - Отображение текущего подключения в состоянии переноса нагрузки с процессора на сетевой адаптер при передаче данных ( "offload" ).\
    -a - Отображение всех подключений и ожидающих портов.\
    -n - Отображение адресов и номеров портов в числовом формате.
  - Значение каждого столбца вывода:
    - Proto - название протокола
    - Recv-Q - cчётчик байт не скопированных программой пользователя из - этого сокета
    - Send-Q - счётчик байтов, не подтверждённых удалённым узлом
    - Local Address - адрес и номер порта локального конца сокета
    - Foreign Address - адрес и номер порта удалённого конца сокета
    - Status - состояние соединение\
    Виды соединений:
    - ESTABLISHED - соединение установлено
    - SYN_SENT - сокет пытается установить соединение
    - SYN_RECV - начальная синхронизация соединения
    - FIN_WAIT1 - сокет закрыт, ожидание отключения соединения
    - FIN_WAIT2 - ожидание отключения удаленной стороны
    - TIME_WAIT - ожидание после закрытия повторной передачи отключения удаленной стороны
    - CLOSED - соединение закрыто, сокет не используется
    - CLOSE_WAIT - удаленный узел отключился, сокет скоро будет закрыт
    - LAST_ACK - сначала отключилась удаленная сторона, а затем сокет будет закрыт
    - LISTEN - сокет ожидает входящих соединений
    - CLOSING - закрытие сокета, точнее сокет закрыт, а затем отключился удаленный узел
    - UNKNOWN - состояние сокета неизвестно.
  - Значение 0.0.0.0 означает - "любой адрес"

## Part 9. Установка и использование утилит top, htop
- top
- команда `sudo apt install top` для установки утилиты top
- запуск top командой `top`\
![](images/9_2.png)
- uptime : 56 min
- количество авторизованных пользователей: 1
- общее количество процессов: 94
- загрузка cpu: 0
- загрузка памяти: 976,9
- pid процесса занимающего больше всего памяти: 1
- pid процесса, занимающего больше всего процессорного времени: 1
- htop
- команда `sudo apt-get install htop` для установки утилиты htop
- Отсортированный по PID\
    ![](images/9_3.png)
- Отсортированный по PERCENT_CPU\
    ![](images/9_4.png)
- Отсортированный по PERCENT_MEM\
    ![](images/9_5.png)
- Отсортированный по TIME\
    ![](images/9_6.png)
- Отфильтрованному для процесса sshd\
    ![](images/9_7.png)
- С процессом syslog, найденным, используя поиск\
    ![](images/9_8.png)
- С добавленным выводом hostname, clock и uptime\
    ![](images/9_9.png)

## Part 10. Использование утилиты fdisk
- результат команды `sudo fdisk -l` \
![](images/10_1.png)
- название жесткого диска:/dev/sda
- размер - 20 GiB
- количество секторов - 41943040
- ![swap](images/10_2.png)\
 размер swap - 1.9G

## Part 11. Использование утилиты df
- вывод команды `df` \
![](images/11_1.png)
- вывод команды df для корневого раздела ![](images/11_2.png)размер корневого раздела:9.8G; размер занятого пространства:5.2G; размер свободного пространства:4.1G; процент использования: 56%. 
- The 1K block in GNU coreutils df(1) means 1024 bytes
- вывод команды `df -Th`\
![](images/11_3.png)размер раздела:9.8G; размер занятого пространства:5.2G; размер свободного пространства:4.1G; процент использования: 56%. Тип файловой системы: ext4.

## Part 12. Использование утилиты du
- размер /home \
![размер /home](images/12_1.png)
- размер  /var\
![размер  /var](images/12_2.png)
- размер /var/log \
![размер /var/log](images/12_3.png)
- вывод команды `sudo du -sh /var/log/*`\
![вывод команды sudo du -sh /var/log/*](images/12_4.png)

## Part 13. Установка и использование утилиты ncdu
- установила утилиту ncdu командой `sudo apt-get install ncdu`
- размер /home \
![](images/13_2.png)
- размер /var \
![](images/13_3.png)
- размер /var/log \
![](images/13_4.png)

## Part 14. Работа с системными журналами
- вывод команды `sudo utmpdump /var/log/dmesg`\
![](images/14_1.png)
- вывод команды `sudo utmpdump /var/log/syslog` \
![](images/14_2.png)
- вывод команды `sudo utmpdump /var/log/auth.log`\
![](images/14_3.png)
- последняя успешная авторизация командой last\
![](images/14_4.png)
- Перезагрузила службу SSHd командой `sudo systemctl restart ssh`
- сообщение и рестарте службы\
![](images/14_6.png)

## Part 15. Использование планировщика заданий CRON
- открыла файл для редактирования командой `sudo crontab -e`
- добавила команду\
![](images/15_2.png)
- в системных журналах строчки о выполнении\
![](images/15_3.png)
- список текущих заданий для CRON\
![](images/15_4.png)
- Удаление всех заданий и з планировщика заданий выполняется командой crontab -r
Список текущих заданий после удаления:\
![](images/15_5.png)